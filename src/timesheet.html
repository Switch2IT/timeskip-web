<template>
    <div class="main-view base-shadow">
        <h2 class="center">${title}</h2>
        <form form class="form-horizontal form-height center form-width" submit.trigger="addLog()">
            <div class="form-group">
                <h3>${user.firstName + ' ' + user.lastName}</h3>
                <br />
                <label class="col-sm-offset-2 col-sm-2 control-label" for="organizations">Organisatie</label>
                <div class="col-sm-6">
                    <select class="form-control" name="organizations" value.bind="organization">
                        <option repeat.for="organization of organizations" model.bind="organization.id" innerHtml.bind="organization.name"></option>
                    </select>
                    <br />
                </div>
                <label class="col-sm-offset-2 col-sm-2 control-label" for="projects">Project</label>
                <div class="col-sm-6">
                    <select class="form-control" name="projects" value.bind="project">
                        <option repeat.for="project of projects" model.bind="project.id" innerHtml.bind="project.name"></option>
                    </select>
                    <br />
                </div>
                <label class="col-sm-offset-2 col-sm-2 control-label" for="activities">Activiteit</label>
                <div class="col-sm-6">
                    <select class="form-control" name="activities" value.bind="activity">
                        <option repeat.for="activity of activities" model.bind="activity.id" innerHtml.bind="activity.name"></option>
                    </select>
                    <br />
                </div>
                <label class="col-sm-offset-2 col-sm-2 control-label" for="hours">Uren</label>
                <div class="col-sm-2">
                    <input id="minutes" type="number" class="form-control" value.bind="hours" min="0" max="12" step="1" />
                </div>
                <label class="col-sm-offset-0 col-sm-2 control-label" for="minutes">Minuten</label>
                <div class="col-sm-2">
                    <input id="minutes" type="number" class="form-control" value.bind="minutes" min="0" max="59" step="5" />
                </div>
            </div>
            <div class="form-group">
                <label class="col-sm-offset-2 col-sm-2 control-label" for="datum">Datum</label>
                <div class="col-sm-6">
                    <input type="date" id="datum" class="form-control" value.two-way="logDate" />
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-4 col-sm-8">
                    <button type="submit" class="col-sm-4" id="submitBtn">Opslaan</button>
                </div>
            </div>
            <div class="form-group">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Datum</th>
                            <th>Tijd gelogd</th>
                        </tr>
                    </thead>
                    <tr repeat.for="Log of Logs">
                        <td innerHtml.bind="$parent.Logs[$index].logDate"></td>
                        <td innerHtml.bind="minuteString($index)"></td>
                        <td><button type="button" class="button edit-log" click.delegate="editLog($index)">Aanpassen</button></td>
                        <td><button type="button" class="button delete-log" click.delegate="deleteLog($index)">Verwijderen</button></td>
                    </tr>
                </table>
            </div>
        </form>
    </div>
</template>